"use strict";var onboarding=!0,looping=!0;function startBubbleTones(){endOnboarding(),setupAudioPlayback(),mouseX<cw&&mouseY<ch&&createBubble(cw/2,ch/2)}function endOnboarding(){document.querySelector(".onboarding").classList.add("onboarding--hidden"),onboarding=!1}function getRandomNumber(e,o){return Math.random()*(o-e)+e}window.onload=function(){setupInteraction(),document.addEventListener("click",function(e){onboarding&&startBubbleTones()})};var bubbles=[],bubbleFillSize=32,bubbleStrokeSize=4,bubbleSize=bubbleFillSize+bubbleStrokeSize,bubbleMass=5,bubbleTempo=3,maxBubbles=6,numUniqueBubbles=4,bubbleColors=[["#EC88C0","#D96EB2"],["#48CFAE","#37BB9B"],["#FFCF55","#F6BB43"],["#4FC0E8","#3CAEDA"]];function createBubble(e,o){bubbles.length>=maxBubbles&&removeBubble(),initializeBubble(e,o),looping||togglePlaying()}function initializeBubble(e,o){null!==e&&null!==o||(e=cw/2,o=ch/2);var t=Math.round(getRandomNumber(0,numUniqueBubbles-1)),i=new Bubble(e,o,getRandomNumber(0,2)<1?1:-1,getRandomNumber(0,2)<1?1:-1,t);bubbles.push(i)}function removeBubble(){0<bubbles.length&&bubbles.splice(0,1)}function changeBubbleSpeed(e){for(var o=0;o<bubbles.length;o++)bubbles[o].updateVelocity(e);bubbleTempo=e}function Bubble(e,o,t,i,n){this.pos=createVector(e,o),this.vel=createVector(bubbleTempo*t,bubbleTempo*i),this.acc=createVector(0,0),this.m=bubbleMass,this.d=bubbleSize,this.maxVelocity=12,this.id=n,this.offX=n*this.d,this.offY=0}Bubble.prototype.render=function(){this.update(),this.display(),this.checkEdges()},Bubble.prototype.updateVelocity=function(e){var o=e/bubbleTempo;this.vel.mult(o)},Bubble.prototype.display=function(){image(offCanvas,this.pos.x-this.d/2,this.pos.y-this.d/2,this.d,this.d,this.offX,this.offY,this.d,this.d)},Bubble.prototype.update=function(){this.vel.add(this.acc),this.pos.add(this.vel),this.acc.mult(0),this.vel.limit(this.maxVelocity)},Bubble.prototype.checkEdges=function(){this.pos.y<borderSize+this.d/2&&this.edge(0,0),this.pos.x>cw-this.d/2-borderSize&&this.edge(1,1),this.pos.y>ch-this.d/2-borderSize&&this.edge(2,0),this.pos.x<borderSize+this.d/2&&this.edge(3,1)},Bubble.prototype.edge=function(e,o){playTone(0,e),0==o?this.vel.y*=-1:this.vel.x*=-1,this.offX=e*this.d,this.tone=notes[e],setTones(this.id=e),borders[e].toggle(),roadblocks[e].toggle()},Bubble.prototype.checkRoadblock=function(e){var o=e.pos.x-this.pos.x,t=e.pos.y-this.pos.y,i=sqrt(o*o+t*t),n=(bubbleSize+roadBlockSize)/2;if(i<n){var s=atan2(t,o),a=this.pos.x+cos(s)*n,r=this.pos.y+sin(s)*n,l=a-e.pos.x,b=r-e.pos.y;this.vel.x-=l,this.vel.y-=b,playTone(1,e.id),setTones(e.id)}};var offCanvas,cw,ch,bgCanvas,roadblocks=[],roadBlockFillSize=80,roadBlockStrokeSize=4,roadBlockSize=roadBlockFillSize+roadBlockStrokeSize,numRoadblocks=4;function createRoadblocks(){for(var e=0;e<numRoadblocks;e++)roadblocks[e]=new Roadblock(e)}function Roadblock(e){this.pos=createVector(0,0),this.d=roadBlockSize,this.visible=!1,this.id=e,this.hitCount=0,this.offX=bubbleSize*numUniqueBubbles+this.d*e,this.offY=0}function createOffscreenCanvas(){drawOffscreenBubbles(offCanvas=createGraphics(bubbleSize*numUniqueBubbles+roadBlockSize*numRoadblocks,roadBlockSize)),drawOffscreenRoadblocks(offCanvas)}function drawOffscreenBubbles(e){for(var o=0;o<numUniqueBubbles;o++){e.fill(bubbleColors[o][0]),e.stroke(bubbleColors[o][1]),e.strokeWeight(bubbleStrokeSize);var t=bubbleSize/2+o*bubbleSize,i=bubbleSize/2;e.ellipseMode(CENTER),e.ellipse(t,i,bubbleFillSize)}}function drawOffscreenRoadblocks(e){for(var o=bubbleSize*numUniqueBubbles,t=0;t<numRoadblocks;t++){e.fill(bubbleColors[t][0]),e.stroke(bubbleColors[t][1]),e.strokeWeight(bubbleStrokeSize);var i=o+roadBlockSize/2+roadBlockSize*t,n=roadBlockSize/2;e.ellipseMode(CENTER),e.ellipse(i,n,roadBlockFillSize)}}Roadblock.prototype.toggle=function(){this.hitCount++,(!this.visible||8<this.hitCount)&&(this.visible=!0,this.updatePosition())},Roadblock.prototype.display=function(){image(offCanvas,this.pos.x-this.d/2,this.pos.y-this.d/2,this.d,this.d,this.offX,this.offY,this.d,this.d)},Roadblock.prototype.updatePosition=function(){for(var e=100,o=cw-e,t=ch-e,i=Math.floor(getRandomNumber(100,o)),n=Math.floor(getRandomNumber(100,t)),s=0;s<roadblocks.length;s++)if(this.id!=s){var a=roadblocks[s];if(dist(i,n,a.pos.x,a.pos.y)<=this.d+2){this.updatePosition();break}this.pos.x=i,this.pos.y=n}};var bgColor="#F8F9FC";function setCanvasSize(){var e=document.querySelector(".control-bar").clientHeight+2;cw=window.innerWidth,ch=window.innerHeight-e}function setup(){setCanvasSize(),createOffscreenCanvas(),canvas=createCanvas(cw,ch),canvas.parent("main-container"),canvas.id("canvas"),(bgCanvas=createGraphics(cw,ch)).background(color(bgColor)),angleMode(DEGREES),createRoadblocks(),createBorders()}function draw(){image(bgCanvas,0,0);for(var e=0;e<bubbles.length;e++){bubbles[e].render();for(var o=0;o<roadblocks.length;o++)roadblocks[o].visible&&(roadblocks[o].display(),bubbles[e].checkRoadblock(roadblocks[o]))}for(var t=0;t<borders.length;t++)borders[t].active&&borders[t].display()}var playToggle,toneControl,tempoControl,effectsControl,borders=[],borderSize=20,borderTimer=8;function createBorders(){for(var e=[0,cw-borderSize,0,0],o=[0,0,ch-borderSize,0],t=[cw,borderSize,cw,borderSize],i=[borderSize,ch,borderSize,ch],n=0;n<4;n++){var s=new Border(e[n],o[n],t[n],i[n],n);borders.push(s)}}function drawBorders(){for(var e=0;e<borders.length;e++)borders[e].display()}function Border(e,o,t,i,n){this.x=e,this.y=o,this.w=t,this.h=i,this.fDefault="#FFFFFF",this.fActive=bubbleColors[n][0],this.active=!1,this.id=n,this.activeTime=0}function setupInteraction(){var e=document.querySelector("canvas");e.addEventListener("click",function(e){createBubble(mouseX,mouseY),e.preventDefault()},!1),e.addEventListener("touchend",function(e){createBubble(mouseX,mouseY),e.preventDefault()},!1),playToggle=document.querySelector(".js-play-toggle"),toneControl=document.querySelector(".js-tone-control"),tempoControl=document.querySelector(".js-tempo-control"),playToggle.addEventListener("click",function(e){e.target.blur(),togglePlaying(),e.preventDefault()},!1),playToggle.addEventListener("touchend",function(e){e.target.blur(),togglePlaying(),e.preventDefault()},!1),toneControl.addEventListener("input",function(e){var o=Number(this.value);rootTone=o,setRoots(),toneControl.setAttribute("aria-valuenow",o)},!1),tempoControl.addEventListener("input",function(e){changeBubbleSpeed(Number(this.value)),tempoControl.setAttribute("aria-valuenow",dSpeed)},!1),document.querySelector(".js-about-open-btn").addEventListener("click",function(){document.querySelector(".about").classList.add("about--visible")},!1),document.querySelector(".js-about-close-btn").addEventListener("click",function(){document.querySelector(".about").classList.remove("about--visible")},!1)}function togglePlaying(){var e=document.querySelector(".js-play-toggle");looping=looping?(noLoop(),e.classList.remove("btn--pause"),e.classList.add("btn--play"),!1):(loop(),e.classList.remove("btn--play"),e.classList.add("btn--pause"),!0)}Border.prototype.toggle=function(){this.active=!0,this.activeTime=borderTimer},Border.prototype.display=function(){0<this.activeTime?(noStroke(),fill(this.fActive),rect(this.x,this.y,this.w,this.h),this.activeTime--):(fill(color(bgColor)),rect(this.x,this.y,this.w,this.h),this.activeTime=0,this.active=!1)},document.addEventListener("keydown",function(e){"Q"!=e.key&&"q"!=e.key||(console.log("Add bubble"),createBubble(null,null)),"P"!=e.key&&"p"!=e.key||removeBubble()," "!=e.key&&"Spacebar"!=e.key||togglePlaying(),"Tab"===e.key&&(console.log("tab key man"),document.body.classList.add("user-is-tabbing"))});var audioCtx,osc1,osc2,bassWavetableSource={real:[0,.498544,-.052193,-.019862,-.002256,.001649,-894e-6,596e-6,24e-5,-181e-6,325e-6,-88e-6,22e-6,33e-6,-49e-6,39e-6,-38e-6,36e-6,1e-6,4e-6,-7e-6,6e-6,-14e-6,22e-6,-13e-6,-12e-6,6e-6,4e-6,-5e-6,2e-6,-2e-6,-6e-6,1e-6,16e-6,-19e-6,3e-6,4e-6,7e-6,-7e-6,-4e-6,0,1e-6,1e-5,-7e-6,2e-6,1e-6,-1e-6,-6e-6,13e-6,-3e-6,9e-6,-13e-6,1e-6,2e-6,11e-6,-6e-6,1e-6,3e-6,-9e-6,-9e-6,-6e-6,-6e-6,-4e-6,-1e-6,-7e-6,4e-6,9e-6,-1e-6,6e-6,12e-6,3e-6,4e-6,6e-6,-4e-6,-1e-6,1e-6,-8e-6,2e-6,-7e-6,-11e-6,3e-6,3e-6,-9e-6,-4e-6,-4e-6,-6e-6,2e-6,-4e-6,9e-6,5e-6,2e-6,3e-6,-1e-6,-0,1e-6,-0,-9e-6,6e-6,-6e-6,-0,-8e-6,1e-6,-1e-6,-4e-6,3e-6,-0,-2e-6,2e-6,-0,1e-6,6e-6,-4e-6,-5e-6,5e-6,-2e-6,-4e-6,-15e-6,-9e-6,-5e-6,-3e-6,-7e-6,2e-6,1e-6,2e-6,1e-6,-4e-6,-3e-6,-4e-6,3e-6,4e-6,-7e-6,-2e-6,2e-6,-2e-6,-1e-6,-5e-6,-5e-6,-6e-6,4e-6,-6e-6,-8e-6,-3e-6,2e-6,-2e-6,1e-6,-4e-6,-11e-6,-1e-6,-11e-6,3e-6,-7e-6,-0,-11e-6,-7e-6,5e-6,-5e-6,-7e-6,4e-6,-4e-6,-3e-6,-1e-6,-2e-6,-2e-6,-5e-6,1e-6,-1e-6,-4e-6,-3e-6,-5e-6,-9e-6,-8e-6,5e-6,1e-6,4e-6,-7e-6,-1e-6,3e-6,-8e-6,-5e-6,-2e-6,-5e-6,2e-6,-11e-6,-1e-6,-7e-6,-11e-6,-1e-5,-12e-6,-5e-6,-6e-6,-7e-6,1e-6,-1e-6,0,4e-6,-6e-6,-1e-6,-1e-6,-9e-6,-6e-6,-8e-6,2e-6,-15e-6,-2e-6,-1e-5,-2e-6,-6e-6,2e-6,-6e-6,-6e-6,5e-6,-4e-6,-1e-6,-6e-6,-8e-6,-3e-6,-12e-6,-4e-6,-3e-6,0,-6e-6,-6e-6,-12e-6,-7e-6,-13e-6,-12e-6,-11e-6,-12e-6,-13e-6,-7e-6,-14e-6,-6e-6,-4e-6,-9e-6,-9e-6,-3e-6,-1e-6,-1e-6,3e-6,2e-6,9e-6,7e-6,12e-6,11e-6,12e-6,12e-6,12e-6,11e-6,11e-6,1e-5,9e-6,9e-6,8e-6,7e-6,7e-6,6e-6,6e-6,5e-6,5e-6,5e-6,4e-6,4e-6,4e-6,4e-6,4e-6,4e-6,4e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,3e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,2e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,0,1e-6,1e-6,1e-6,0,0,1e-6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],imag:[0,-.038133,.172877,-.018249,.007476,-.00245,.001892,-.001804,.00105,-623e-6,246e-6,-137e-6,-17e-6,31e-6,2e-6,-37e-6,31e-6,-1e-5,33e-6,-2e-5,3e-6,5e-6,-0,-14e-6,15e-6,-2e-6,11e-6,-6e-6,-14e-6,-8e-6,2e-6,1e-6,-1e-6,9e-6,2e-6,-6e-6,8e-6,-6e-6,-4e-6,-6e-6,-6e-6,-6e-6,-7e-6,-5e-6,-2e-6,8e-6,-5e-6,-3e-6,1e-5,7e-6,2e-6,3e-6,-4e-6,1e-5,-0,3e-6,-2e-6,5e-6,-3e-6,1e-6,4e-6,-9e-6,-1e-6,-7e-6,-2e-6,-9e-6,-1e-6,1e-6,-0,1e-5,-12e-6,-5e-6,1e-5,-5e-6,1e-6,5e-6,3e-6,5e-6,6e-6,-1e-6,-9e-6,2e-6,2e-6,-6e-6,1e-5,-1e-5,-4e-6,-1e-6,-0,7e-6,-7e-6,-1e-6,-0,-5e-6,-1e-6,-0,6e-6,-8e-6,5e-6,-6e-6,1e-6,-5e-6,-2e-6,-1e-6,2e-6,-2e-6,1e-6,-2e-6,-1e-6,1e-6,4e-6,6e-6,7e-6,0,4e-6,1e-6,-1e-6,-3e-6,1e-6,-1e-6,-2e-6,6e-6,-0,-1e-6,0,8e-6,1e-6,-3e-6,-4e-6,6e-6,-7e-6,-5e-6,-0,0,-3e-6,7e-6,3e-6,2e-6,7e-6,-8e-6,1e-6,3e-6,-4e-6,2e-6,-0,1e-5,-1e-6,1e-6,5e-6,-6e-6,1e-6,9e-6,0,7e-6,9e-6,3e-6,5e-6,1e-6,-0,-0,2e-6,5e-6,4e-6,-1e-6,2e-6,13e-6,6e-6,4e-6,7e-6,1e-6,4e-6,-5e-6,5e-6,-1e-6,-1e-6,-7e-6,7e-6,-2e-6,-6e-6,2e-6,-0,7e-6,-2e-6,1e-5,-4e-6,4e-6,4e-6,-8e-6,-2e-6,-6e-6,5e-6,7e-6,1e-6,7e-6,7e-6,5e-6,7e-6,5e-6,3e-6,2e-6,5e-6,4e-6,1e-6,0,3e-6,8e-6,7e-6,4e-6,-4e-6,7e-6,-2e-6,1e-6,-0,6e-6,-5e-6,8e-6,-7e-6,-1e-6,-3e-6,-4e-6,6e-6,-4e-6,6e-6,5e-6,5e-6,6e-6,1e-6,5e-6,7e-6,8e-6,11e-6,9e-6,2e-5,21e-6,13e-6,26e-6,18e-6,2e-5,15e-6,21e-6,18e-6,16e-6,15e-6,14e-6,1e-5,9e-6,7e-6,6e-6,4e-6,3e-6,2e-6,2e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,1e-6,0,1e-6,1e-6,1e-6,0,0,1e-6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,-0,-0,0,0,-0,0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,-0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,-0,0,0,0,0,0,0,0,0,0,0,0,0,-0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,-0,0,0,0,0,-0,-0,0,-0,-0,0,0,-0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,0,0,0,-0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,-0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,-0,-0,-0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,-0,0,0,0,0,-0,-0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,-0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,-0,0,0,-0,0,0,0,-0,0,0,-0,0,-0,0,0,-0,0,0,-0,-0,-0,0,0,0,0,0,-0,-0,0,0,0,-0,-0,0,-0,-0,0,0,0,-0,-0,0,-0,-0,0,0,0,-0,0,0,-0,-0,0,0,-0,-0,-0,0,0,0,0,0,-0,-0,-0,0,0,-0,-0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,0,0,-0,-0,0,0,0,-0,-0,-0,0,-0,0,0,0,-0,0,0,0,-0,-0,-0,0,-0,0,0,0,-0,0,0,0,-0,0,0,0,-0,-0,0,-0,-0,-0,0,0,-0,0,0,0,-0,0,0,0,0,0,0,0,-0,0,0,0,-0,0,0,0,-0,-0,0,0,-0,-0,0,-0,-0,-0,0,-0,-0,-0,0,-0,-0,-0,0,0,-0,0,0,-0,-0,-0,0,0,-0,-0,0,-0,-0,-0,0,0,-0]},bassWave={real:Float32Array.from(bassWavetableSource.real),imag:Float32Array.from(bassWavetableSource.imag)},intervalOptions=[[1,2],[5/4,1.2],[4/3,1.8],[1.5,5/3]],rootTone=220,roots=[rootTone,rootTone/2],notes=[];function setRoots(){roots[0]=rootTone,roots[1]=rootTone/2}function setTones(e){var o;o=getRandomNumber(0,10)<7?0:1,notes[e]=intervalOptions[e][o]}var masterGainNode,gain1,gain2,oscs=[osc1,osc2],gains=[gain1,gain2],toneLength=3,fadeInTime=.025,gainValue=.95;function setupAudioPlayback(){createAudioContext(),setupMasterGain();for(var e=0;e<4;e++)setTones(e)}function createAudioContext(){var e=window.AudioContext||window.webkitAudioContext;audioCtx=new e}function setupMasterGain(){(masterGainNode=audioCtx.createGain()).connect(audioCtx.destination),masterGainNode.gain.value=gainValue}function playTone(e,o){var t=bassWave,i=audioCtx.createPeriodicWave(t.real,t.imag),n=oscs[e];(n=audioCtx.createOscillator()).setPeriodicWave(i);var s=gains[e];s=audioCtx.createGain(),n.connect(s),s.connect(masterGainNode);var a=audioCtx.currentTime;n.frequency.value=roots[e]*notes[o],s.gain.linearRampToValueAtTime(0,a),s.gain.linearRampToValueAtTime(gainValue,a+fadeInTime),n.start(a),s.gain.exponentialRampToValueAtTime(.001,a+toneLength),n.stop(a+toneLength)}